- apiVersion: openslo/v1
  kind: SLO
  metadata:
    name: web-availability
    displayName: SLO for web availability
    labels:
      env: prod
      team: team-a
  spec:
    description: X% of search requests are successful
    service: web
    sli:
      metadata:
        name: web-successful-requests-ratio
      spec:
        counter: true
        ratioMetric:
          good:
            dataSourceRef: my-prometheus
            spec:
              query: sum(http_requests{k8s_cluster="prod",component="web",code=~"2xx|4xx"})
          total:
            dataSourceRef: my-prometheus
            spec:
              query: sum(http_requests{k8s_cluster="prod",component="web"})
    timeWindow:
      - duration: 1w
        isRolling: false
        calendar:
          startTime: 2022-01-01 12:00:00
          timeZone: America/New_York
    budgetingMethod: Timeslices
    objectives:
      - displayName: Good
        op: gt
        target: 0.995
        timeSliceTarget: 0.95
        timeSliceWindow: 1m
